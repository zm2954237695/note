动态代理：

接口：

```java
package com.guo.proxy;

public interface Rent {
    public void rent();
}
```

真实对象

```java
package com.guo.proxy;

public class Host implements Rent{

    @Override
    public void rent() {
        System.out.println("房东租房");
    }
}
```

处理程序：

```java
package com.guo.proxy;

import java.lang.reflect.InvocationHandler;
import java.lang.reflect.Method;
import java.lang.reflect.Proxy;

//用这个类  自动生成代理类
public class ProxyInvocationHandler implements InvocationHandler {
    //被代理的接口
    private  Rent rent;
    //生成代理类
    public Object getProxy(){
       return Proxy.newProxyInstance(this.getClass().getClassLoader(),rent.getClass().getInterfaces(),this );
    }

    public void setRent(Rent rent) {
        this.rent = rent;
    }

    @Override
    //被代理类实例，返回结果
    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {
        Object res=method.invoke(rent,args);
        return res;
    }
}
```

测试类：

```java
package com.guo.proxy;

public class ProxyTest {
    public static void main(String[] args) {
        Host host=new Host();
        ProxyInvocationHandler proxy =new ProxyInvocationHandler();
        proxy.setRent(host);
        Rent proxy1 = (Rent) proxy.getProxy();
        proxy1.rent();
    }

}
```



AOP：面向切面编程



Aspect（切面）： Aspect 声明类似于 Java 中的类声明，在 Aspect 中会包含着一些 Pointcut 以及相应的 Advice。
Joint point（连接点）：表示在程序中明确定义的点，典型的包括方法调用，对类成员的访问以及异常处理程序块的执行等等，它自身还可以嵌套其它 joint point。
Pointcut（切点）：表示一组 joint point，这些 joint point 或是通过逻辑关系组合起来，或是通过通配、正则表达式等方式集中起来，它定义了相应的 Advice 将要发生的地方。
Advice（增强）：Advice 定义了在 Pointcut 里面定义的程序点具体要做的操作，它通过 before、after 和 around 来区别是在每个 joint point 之前、之后还是代替执行的代码。
Target（目标对象）：织入 Advice 的目标对象.。
Weaving（织入）：将 Aspect 和其他对象连接起来, 并创建 Adviced object 的过程

依赖

```
<dependency>
    <groupId>org.aspectj</groupId>
    <artifactId>aspectjweaver</artifactId>
    <version>1.9.4</version>
</dependency>
```



开启aop支持并配置相关参数

```xml
<aop:config>
    <!--excution表达式（修饰符，类名，方法名，参数）-->
    <aop:pointcut id="point" expression="execution(* com.guo.service.UserServiceimpl.* (..))"/>
    <aop:advisor advice-ref="" pointcut="point"/>
</aop:config>
```

